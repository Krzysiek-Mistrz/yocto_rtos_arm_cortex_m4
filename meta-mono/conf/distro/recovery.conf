DISTRO = "recovery"
DISTRO_NAME = "STM32 Recovery RTOS"
DISTRO_VERSION = "2.0"
MAINTAINER = "Embedded Systems Team"

# C library for embedded systems - use newlib (lightweight)
TCLIBC = "newlib"

# Embedded features - minimal footprint with GPIO and interface support
DISTRO_FEATURES = "zephyr gpio i2c spi usb uart"

# Use Zephyr RTOS instead of Linux
VIRTUAL-RUNTIME_init_manager = ""
VIRTUAL-RUNTIME_initscripts = ""

# Embedded utilities
VIRTUAL-RUNTIME_base-utils = ""
VIRTUAL-RUNTIME_login_manager = ""

# Preferred providers for embedded system
PREFERRED_PROVIDER_virtual/kernel = "zephyr-kernel"
PREFERRED_PROVIDER_virtual/libc = "newlib"

# Toolchain settings for ARM Cortex-M4
TCMODE = "external-arm-toolchain"

# Quality assurance checks
ERROR_QA:append = " textrel host-user-contaminated"
WARN_QA:append = " buildpaths ldflags"

# Embedded-specific settings
IMAGE_OVERHEAD_FACTOR = "1.0"
EXTRA_IMAGE_FEATURES = "tools-debug dev-pkgs"