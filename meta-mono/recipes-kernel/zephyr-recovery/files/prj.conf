# STM32F411CEU6 Recovery System Configuration (Black Pill)

# Enable console and shell
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_SHELL=y
CONFIG_SHELL_BACKEND_SERIAL=y
CONFIG_SHELL_PROMPT_UART="recovery:~$ "

# Shell configuration
CONFIG_SHELL_CMD_BUFF_SIZE=128
CONFIG_SHELL_PRINTF_BUFF_SIZE=128
CONFIG_SHELL_HISTORY=y
CONFIG_SHELL_HISTORY_BUFFER=512

# Enable GPIO
CONFIG_GPIO=y

# Enable I2C
CONFIG_I2C=y

# Enable SPI
CONFIG_SPI=y

# Enable UART
CONFIG_SERIAL=y

# Enable printk for debugging
CONFIG_PRINTK=y
CONFIG_EARLY_CONSOLE=y

# Kernel configuration
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Enable newlib for standard C library functions
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_NANO=y

# Optimize for size (important for 512KB flash)
CONFIG_SIZE_OPTIMIZATIONS=y
CONFIG_COMPILER_OPT="-Os"

# Logging (optional, can be disabled to save space)
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
